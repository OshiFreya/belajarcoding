<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FAJAR88</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:sans-serif;}
    body{background:#111;color:#fff;}

    /* Navbar */
    .navbar{
      background:#000;
      padding:12px 20px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap; /* biar responsive */
    }
    .navbar h1{
      color:#e10600;
      font-size:22px;
      font-weight:900;
    }
    .menu{
      display:flex;
      gap:15px;
      align-items:center;
    }
    .menu a{
      color:#fff;
      text-decoration:none;
      font-weight:600;
      transition:.3s;
    }
    .menu a:hover{color:#ffcc00;}
    .nav-btns{
      display:flex;
      gap:10px;
      margin-top:8px;
    }
    .nav-btns button{
      background:#e10600;
      color:#fff;
      border:none;
      padding:8px 16px;
      border-radius:6px;
      cursor:pointer;
      font-weight:600;
      transition:.3s;
    }
    .nav-btns button:hover{background:#ff3333;}

    /* Hero */
    .hero{
      text-align:center;
      padding:60px 20px;
      background:linear-gradient(180deg,#222,#111);
    }
    .hero h1{
      font-size:26px;
      color:#ffcc00;
      margin-bottom:16px;
    }
    .hero p{
      font-size:17px;
      color:#fff;
      font-weight:600;
      max-width:600px;
      margin:auto;
      line-height:1.6;
    }

    /* Toast Notification */
    #toast{
      position:fixed;
      top:20px;right:20px;
      background:#222;
      color:#fff;
      padding:12px 16px;
      border-radius:8px;
      display:none;
      z-index:999;
      border-left:5px solid #e10600;
      animation:slideIn .4s ease;
    }
    @keyframes slideIn{
      from{transform:translateX(100%);}to{transform:translateX(0);}
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <div class="navbar">
    <h1>FAJAR88</h1>
    <div class="menu" id="navMenu">
      <a href="#">Beranda</a>
    </div>
    <div class="nav-btns">
      <button id="navReg">Daftar</button>
      <button id="navLogin">Login</button>
    </div>
  </div>

  <!-- Hero -->
  <section class="hero">
    <h1>Selamat Datang di FAJAR88</h1>
    <p>SELAMAT DAH NEMUIN FAJAR, FAJAR MAU KASIH MENANG NIH, SILAHKAN DEPO DAN MAINNN!!!!</p>
  </section>

  <!-- Toast -->
  <div id="toast"></div>

  <script>
    // Fungsi toast notif
    function showToast(msg,color="#e10600"){
      let t=document.getElementById("toast");
      t.textContent=msg;
      t.style.borderLeftColor=color;
      t.style.display="block";
      setTimeout(()=>{t.style.display="none";},3000);
    }
  </script>

</body>
</html>


<!-- POPUP Daftar -->
<div id="popupDaftar" class="popup">
  <div class="popup-content">
    <h2>Daftar Akun</h2>
    <input type="text" id="regUser" placeholder="Username">
    <input type="email" id="regEmail" placeholder="Email">
    <input type="tel" id="regPhone" placeholder="No HP">
    <input type="password" id="regPass" placeholder="Password">
    <button onclick="register()">Daftar</button>
    <button class="cancel" onclick="closePopup('popupDaftar')">Batal</button>
  </div>
</div>

<!-- POPUP Login -->
<div id="popupLogin" class="popup">
  <div class="popup-content">
    <h2>Login</h2>
    <input type="text" id="loginUser" placeholder="Username">
    <input type="password" id="loginPass" placeholder="Password">
    <button onclick="login()">Login</button>
    <button class="cancel" onclick="closePopup('popupLogin')">Batal</button>
  </div>
</div>

<style>
  /* Popup */
  .popup{
    display:none;position:fixed;top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,0.7);z-index:1000;
    justify-content:center;align-items:center;
  }
  .popup-content{
    background:#222;padding:25px;border-radius:10px;
    width:90%;max-width:350px;text-align:center;
  }
  .popup-content h2{margin-bottom:15px;color:#ffcc00;}
  .popup-content input{
    width:100%;padding:10px;margin:8px 0;
    border:none;border-radius:6px;font-size:15px;
  }
  .popup-content button{
    width:100%;padding:10px;margin-top:10px;
    border:none;border-radius:6px;cursor:pointer;
    font-weight:600;font-size:15px;
  }
  .popup-content button:first-of-type{
    background:#e10600;color:#fff;
  }
  .popup-content button.cancel{background:#555;color:#fff;}
</style>

<script>
  // Popup control
  function openPopup(id){document.getElementById(id).style.display="flex";}
  function closePopup(id){document.getElementById(id).style.display="none";}

  // Register
  function register(){
    let user=document.getElementById("regUser").value.trim();
    let email=document.getElementById("regEmail").value.trim();
    let phone=document.getElementById("regPhone").value.trim();
    let pass=document.getElementById("regPass").value.trim();

    let emailValid=/^[^ ]+@[^ ]+\.[a-z]{2,3}$/.test(email);
    let phoneValid=/^[0-9]{10,13}$/.test(phone);

    if(!user||!email||!phone||!pass){
      showToast("‚ö†Ô∏è Semua field wajib diisi!");
      return;
    }
    if(!emailValid){
      showToast("‚ùå Email tidak valid!");
      return;
    }
    if(!phoneValid){
      showToast("‚ùå No HP tidak valid!");
      return;
    }

    localStorage.setItem("user",user);
    localStorage.setItem("pass",pass);
    localStorage.setItem("saldo",0);

    closePopup("popupDaftar");
    showToast("‚úÖ Registrasi berhasil! Silakan login","#28a745");
  }

  // Login
  function login(){
    let user=document.getElementById("loginUser").value.trim();
    let pass=document.getElementById("loginPass").value.trim();

    let savedUser=localStorage.getItem("user");
    let savedPass=localStorage.getItem("pass");

    if(user===savedUser && pass===savedPass){
      closePopup("popupLogin");
      showToast("‚úÖ Login berhasil!","#28a745");
      // lanjut nanti di bagian 3 -> tampil saldo, depo, wd
    }else{
      showToast("‚ùå Username / Password salah!");
    }
  }

  // Tombol navbar
  document.getElementById("navReg").addEventListener("click",()=>openPopup("popupDaftar"));
  document.getElementById("navLogin").addEventListener("click",()=>openPopup("popupLogin"));
</script>


<style>
  /* Navbar User Setelah Login */
  #userNav {
    display:none; /* default hidden */
    justify-content:space-between;
    align-items:center;
    background:#000;
    padding:12px 20px;
    border-bottom:2px solid #e10600;
  }
  #userNav .left {
    font-weight:800;
    font-size:20px;
    color:#e10600;
  }
  #userNav .right {
    display:flex;
    align-items:center;
    gap:15px;
    font-size:15px;
    font-weight:600;
  }
  #userNav .userName {color:#fff;}
  #userNav .saldo {color:#ffcc00;font-weight:700;}
  #userNav button {
    background:#e10600;
    border:none;
    padding:6px 12px;
    border-radius:6px;
    color:#fff;
    cursor:pointer;
    font-size:13px;
    font-weight:600;
    transition:.3s;
  }
  #userNav button:hover {background:#ff3333;}
  @media(max-width:600px){
    #userNav {flex-direction:column;align-items:flex-start;gap:10px;}
    #userNav .right {flex-wrap:wrap;gap:10px;}
  }
</style>

<!-- Navbar User Setelah Login -->
<div id="userNav">
  <div class="left">FAJAR88</div>
  <div class="right">
    üë§ <span class="userName" id="userName">-</span> 
    | üí∞ <span class="saldo">Rp <span id="userSaldo">0</span></span>
    <button onclick="openDeposit()">Deposit</button>
    <button onclick="openWithdraw()">Withdraw</button>
    <button onclick="logout()">Logout</button>
  </div>
</div>

<script>
  // Format angka pakai titik
  function formatRupiah(angka){
    return angka.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");
  }

  // Tampilkan navbar user setelah login
  function showUserNav(){
    document.querySelector(".nav-btns").style.display="none"; // hide guest nav
    document.getElementById("userNav").style.display="flex"; // show user nav
    document.getElementById("userName").textContent = localStorage.getItem("user");
    document.getElementById("userSaldo").textContent = formatRupiah(localStorage.getItem("saldo")||0);
  }

  // Override login sukses
  function login(){
    let user=document.getElementById("loginUser").value.trim();
    let pass=document.getElementById("loginPass").value.trim();
    let savedUser=localStorage.getItem("user");
    let savedPass=localStorage.getItem("pass");

    if(user===savedUser && pass===savedPass){
      showToast("‚úÖ Login berhasil!","#28a745");
      closePopup("popupLogin");
      showUserNav();
    } else {
      showToast("‚ùå Username / Password salah!");
    }
  }

  // Logout
  function logout(){
    showToast("üö™ Berhasil logout!");
    document.getElementById("userNav").style.display="none";
    document.querySelector(".nav-btns").style.display="flex";
  }
</script>


<!-- Popup Deposit -->
<div id="popupDeposit" class="popup">
  <div class="popup-box">
    <h2>üí≥ Deposit</h2>
    <div class="line"></div>
    <label>Pilih Payment</label>
    <select id="depoPay">
      <option value="">-- Pilih Payment --</option>
      <option>üè¶ Bank Transfer</option>
      <option>üì± Dana</option>
      <option>üì± OVO</option>
      <option>üì± Gopay</option>
    </select>

    <label>Nominal Deposit</label>
    <input type="text" id="depoNom" placeholder="Min. 10.000">

    <div class="btn-group">
      <button class="ok" onclick="doDeposit()">Deposit</button>
      <button class="cancel" onclick="closePopup('popupDeposit')">Batal</button>
    </div>
  </div>
</div>

<!-- Popup Withdraw -->
<div id="popupWithdraw" class="popup">
  <div class="popup-box">
    <h2>üèß Withdraw</h2>
    <div class="line"></div>
    <label>Pilih Rekening / E-Wallet</label>
    <select id="wdPay">
      <option value="">-- Pilih Rekening / E-Wallet --</option>
      <option>üè¶ Bank Transfer</option>
      <option>üì± Dana</option>
      <option>üì± OVO</option>
      <option>üì± Gopay</option>
    </select>

    <label>Nominal Withdraw</label>
    <input type="text" id="wdNom" placeholder="Min. 20.000">

    <div class="btn-group">
      <button class="ok" onclick="doWithdraw()">Withdraw</button>
      <button class="cancel" onclick="closePopup('popupWithdraw')">Batal</button>
    </div>
  </div>
</div>

<style>
  /* Background Popup */
  .popup{
    display:none;position:fixed;top:0;left:0;width:100%;height:100%;
    background:rgba(0,0,0,.7);backdrop-filter:blur(6px);
    justify-content:center;align-items:center;z-index:1000;
    animation:fadeIn .3s ease;
  }
  @keyframes fadeIn{from{opacity:0;}to{opacity:1;}}

  /* Box */
  .popup-box{
    background:rgba(20,20,20,.95);
    padding:25px;
    border-radius:15px;
    width:360px;max-width:90%;
    color:#fff;
    box-shadow:0 0 25px rgba(255,0,0,.3);
    animation:zoomIn .3s ease;
  }
  @keyframes zoomIn{from{transform:scale(.7);opacity:0;}to{transform:scale(1);opacity:1;}}

  .popup-box h2{
    margin-bottom:10px;text-align:center;
    color:#ffcc00;font-size:22px;letter-spacing:1px;
  }
  .popup-box .line{
    height:3px;width:60%;margin:0 auto 20px;
    background:linear-gradient(90deg,#e10600,#ffcc00);
    border-radius:3px;
  }
  .popup-box label{
    font-size:14px;margin-bottom:5px;display:block;color:#ddd;
  }
  .popup-box select,.popup-box input{
    width:100%;padding:12px 14px;margin-bottom:15px;
    border:none;border-radius:10px;
    font-size:15px;outline:none;
    background:#222;color:#fff;
    box-shadow:inset 0 0 8px rgba(0,0,0,.7);
    transition:.3s;
  }
  .popup-box select:focus,.popup-box input:focus{
    border:2px solid #ffcc00;background:#111;
  }

  /* Tombol */
  .btn-group{display:flex;gap:10px;justify-content:space-between;}
  .popup-box button{
    flex:1;padding:12px;font-weight:700;
    border:none;border-radius:10px;font-size:15px;
    cursor:pointer;transition:.3s;
  }
  .popup-box button.ok{
    background:linear-gradient(45deg,#e10600,#ff3333);
    color:#fff;box-shadow:0 0 15px rgba(255,50,50,.6);
  }
  .popup-box button.ok:hover{box-shadow:0 0 20px rgba(255,80,80,.9);}
  .popup-box button.cancel{
    background:#555;color:#fff;
  }
  .popup-box button.cancel:hover{background:#777;}
</style>

<script>
  function openDeposit(){document.getElementById("popupDeposit").style.display="flex";}
  function openWithdraw(){document.getElementById("popupWithdraw").style.display="flex";}
  function closePopup(id){document.getElementById(id).style.display="none";}

  // Deposit auto close
  function doDeposit(){
    let pay=document.getElementById("depoPay").value;
    let amt=parseInt(document.getElementById("depoNom").value.replace(/\./g,""));
    if(!pay){showToast("‚ö†Ô∏è Pilih payment dulu!");return;}
    if(isNaN(amt)||amt<10000){showToast("‚ö†Ô∏è Minimal deposit 10.000!");return;}

    showToast("‚è≥ Memproses deposit...","#ffcc00");
    setTimeout(()=>{
      let saldo=parseInt(localStorage.getItem("saldo")||0);
      saldo+=amt;
      localStorage.setItem("saldo",saldo);
      document.getElementById("userSaldo").textContent=formatRupiah(saldo);
      showToast(`‚úÖ Deposit sukses via ${pay} Rp ${formatRupiah(amt)}`,"#28a745");
      closePopup("popupDeposit");
    },1800);
  }

  // Withdraw auto close
  function doWithdraw(){
    let pay=document.getElementById("wdPay").value;
    let amt=parseInt(document.getElementById("wdNom").value.replace(/\./g,""));
    let saldo=parseInt(localStorage.getItem("saldo")||0);

    if(!pay){showToast("‚ö†Ô∏è Pilih rekening dulu!");return;}
    if(isNaN(amt)||amt<20000){showToast("‚ö†Ô∏è Minimal withdraw 20.000!");return;}
    if(amt>saldo){showToast("‚ùå Saldo tidak cukup!");return;}

    showToast("‚è≥ Memproses withdraw...","#ffcc00");
    setTimeout(()=>{
      saldo-=amt;
      localStorage.setItem("saldo",saldo);
      document.getElementById("userSaldo").textContent=formatRupiah(saldo);
      showToast(`‚úÖ Withdraw sukses ke ${pay} Rp ${formatRupiah(amt)}`,"#28a745");
      closePopup("popupWithdraw");
    },1800);
  }

  // Auto format angka (pakai titik)
  document.addEventListener("input",function(e){
    if(e.target.id==="depoNom"||e.target.id==="wdNom"){
      let v=e.target.value.replace(/\D/g,"");
      e.target.value=v?formatRupiah(v):"";
    }
  });

  function formatRupiah(angka){
    return angka.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");
  }
</script>


<!-- Halaman Beranda Setelah Login -->
<div id="berandaPage" style="display:none;text-align:center;padding:30px;">
  <h2>üéÆ Pilih Game Favoritmu</h2>
  <div class="game-list">
    <div class="game-card" onclick="openGame('slot')">
      üé∞ <h3>Slot</h3>
    </div>
    <div class="game-card" onclick="openGame('spaceman')">
      üöÄ <h3>Spaceman</h3>
    </div>
    <div class="game-card" onclick="openGame('baccarat')">
      üé¥ <h3>Baccarat</h3>
    </div>
  </div>
</div>

<style>
  /* Style daftar game */
  #berandaPage h2{
    color:#ffcc00;
    margin-bottom:20px;
  }
  .game-list{
    display:flex;
    justify-content:center;
    gap:20px;
    flex-wrap:wrap;
  }
  .game-card{
    background:#222;
    padding:20px;
    width:150px;
    border-radius:12px;
    cursor:pointer;
    transition:.3s;
    text-align:center;
    box-shadow:0 0 10px rgba(0,0,0,.5);
  }
  .game-card:hover{
    background:#e10600;
    color:#fff;
    transform:scale(1.05);
  }
</style>

<script>
  // Setelah login sukses, tampilkan beranda game
  function showUserNav(){
    document.querySelector(".nav-btns").style.display="none";
    document.getElementById("userNav").style.display="flex";
    document.getElementById("berandaPage").style.display="block";
    document.getElementById("userName").textContent = localStorage.getItem("user");
    document.getElementById("userSaldo").textContent = formatRupiah(localStorage.getItem("saldo")||0);
  }
</script>


<!-- ===== Halaman Game Slot ===== -->
<div id="gameSlot" class="gamePage" style="display:none; text-align:center; padding:30px;">
  <h2>üé∞ Slot</h2>
  <p>Pilih salah satu mesin slot:</p>
  <button onclick="openSlotPersia()">üêâ Persia Mahjong</button>
  <button onclick="openSlotBush()">üå≤ Bush</button>
  <br><br>
  <button onclick="backToBeranda()">‚¨ÖÔ∏è Kembali</button>
</div>


<!-- ===== Halaman Game Spaceman ===== -->
<div id="gameSpaceman" class="gamePage" style="display:none; text-align:center; padding:30px;">
  <h2>üöÄ Spaceman</h2>

  <!-- Arena -->
  <div id="spacemanArena">
    <div id="moon">üåï</div>
    <div id="cloud1" class="cloud">‚òÅÔ∏è</div>
    <div id="cloud2" class="cloud">‚òÅÔ∏è</div>
    <div id="spacemanChar">üöÄ</div>
  </div>

  <!-- Multiplier -->
  <h3 id="multiplierTxt">x1.00</h3>
  <p id="resultSpc"></p>

  <!-- Input bet -->
  <input type="text" id="spcBet" placeholder="Masukkan Bet (min 10.000)" style="padding:8px; margin:10px; border-radius:6px; border:none; text-align:center;">
  <br>
  <button onclick="startSpaceman()">üéÆ Start</button>
  <button onclick="cashout(0.5)">üí∏ Cashout 50%</button>
  <button onclick="cashout(1)">üí∞ Cashout All</button>
  <br><br>
  <button onclick="closeSpaceman()">‚¨ÖÔ∏è Kembali</button>

  <div id="historySpc" style="margin-top:20px; font-size:14px; color:#ccc;">
    <b>History:</b> 
  </div>
</div>

<style>
  /* Arena Spaceman */
  #spacemanArena {
    position:relative;
    width:100%;
    height:300px;
    margin:20px auto;
    border-radius:12px;
    overflow:hidden;
    background:linear-gradient(180deg,#001,#000); /* langit luar */
    box-shadow:0 0 20px rgba(0,0,0,.6);
  }

  /* Bulan */
  #moon {
    position:absolute;
    top:20px;
    right:30px;
    font-size:40px;
    opacity:0.8;
  }

  /* Awan */
  .cloud {
    position:absolute;
    font-size:28px;
    opacity:0.7;
    animation:moveClouds 20s linear infinite;
  }
  #cloud1 { top:60px; left:-50px; animation-delay:0s; }
  #cloud2 { top:120px; left:-100px; animation-delay:10s; }

  @keyframes moveClouds {
    from { left:-100px; }
    to { left:110%; }
  }

  /* Rocket karakter */
  #spacemanChar {
    position:absolute;
    bottom:10px;
    left:50%;
    transform:translateX(-50%);
    font-size:40px;
    transition:bottom .2s linear;
    z-index:2;
  }

  /* Stars */
  #spacemanArena::before {
    content:"";
    position:absolute;
    width:100%;
    height:100%;
    background:url('https://i.ibb.co/3ScC7fV/stars.png') repeat;
    background-size:cover;
    animation:twinkle 2s infinite alternate;
    opacity:0.6;
  }

  @keyframes twinkle {
    from {opacity:0.3;}
    to {opacity:0.7;}
  }

  /* Tombol */
  #gameSpaceman button {
    background:#e10600;
    color:#fff;
    border:none;
    padding:8px 14px;
    margin:5px;
    border-radius:6px;
    cursor:pointer;
    font-weight:600;
    transition:.3s;
  }
  #gameSpaceman button:hover { background:#ff3333; }
</style>

<script>
  let spcInterval, spcMultiplier = 1.00;
  let spcFlying = false;
  let spcBetAmount = 0;
  let spcCashed50 = false;
  let spcCashedAll = false;

  // format rupiah auto
  document.getElementById("spcBet").addEventListener("input",function(){
    let val=this.value.replace(/\D/g,"");
    this.value=val.replace(/\B(?=(\d{3})+(?!\d))/g,".");
  });

  function resetSpaceman(){
    clearInterval(spcInterval);
    spcMultiplier = 1.00;
    spcFlying = false;
    spcBetAmount = 0;
    spcCashed50 = false;
    spcCashedAll = false;
    document.getElementById("multiplierTxt").textContent = "x1.00";
    document.getElementById("resultSpc").textContent = "";
    document.getElementById("spacemanChar").textContent = "üöÄ";
    document.getElementById("spacemanChar").style.bottom = "10px";
  }

  function startSpaceman(){
    if(spcFlying){showToast("‚ö†Ô∏è Tunggu ronde selesai!");return;}

    let betRaw=document.getElementById("spcBet").value.replace(/\./g,"");
    let bet=parseInt(betRaw);
    if(isNaN(bet) || bet<10000){showToast("‚ö†Ô∏è Minimal bet 10.000!");return;}

    let saldo=parseInt(localStorage.getItem("saldo")||0);
    if(bet>saldo){showToast("‚ùå Saldo tidak cukup!");return;}

    saldo-=bet;
    localStorage.setItem("saldo",saldo);
    document.getElementById("userSaldo").textContent=formatRupiah(saldo);

    spcBetAmount=bet;
    spcFlying=true;
    spcMultiplier=1.00;
    spcCashed50=false;
    spcCashedAll=false;

    document.getElementById("resultSpc").textContent="üöÄ Terbang...";
    document.getElementById("spacemanChar").textContent="üöÄ";

    let crashPoint=(Math.random()*9+1).toFixed(2);

    spcInterval=setInterval(()=>{
      spcMultiplier+=0.05;
      document.getElementById("multiplierTxt").textContent="x"+spcMultiplier.toFixed(2);
      document.getElementById("spacemanChar").style.bottom=(spcMultiplier*10)+"px";

      if(spcMultiplier>=crashPoint){
        clearInterval(spcInterval);
        spcFlying=false;
        document.getElementById("spacemanChar").textContent="üí•";
        document.getElementById("resultSpc").textContent="üí• Crash di x"+spcMultiplier.toFixed(2);
        document.getElementById("historySpc").innerHTML+=`<span style="color:#ff3333;">x${spcMultiplier.toFixed(2)}</span> `;
        // reset otomatis setelah 2 detik
        setTimeout(resetSpaceman,2000);
      }
    },200);
  }

  function cashout(type){
    if(!spcFlying){showToast("‚ö†Ô∏è Belum ada ronde!");return;}
    if(spcBetAmount<=0){showToast("‚ö†Ô∏è Belum pasang bet!");return;}

    let saldo=parseInt(localStorage.getItem("saldo")||0);
    let payout=0;

    if(type===0.5 && !spcCashed50){
      let half=spcBetAmount/2;
      payout=Math.floor(half*spcMultiplier);
      saldo+=payout;
      spcCashed50=true;
      document.getElementById("resultSpc").textContent="‚úÖ Cashout 50%: Rp "+formatRupiah(payout);
    } 
    else if(type===1 && !spcCashedAll){
      payout=Math.floor(spcBetAmount*spcMultiplier);
      saldo+=payout;
      spcCashedAll=true;
      document.getElementById("resultSpc").textContent="‚úÖ Cashout All: Rp "+formatRupiah(payout);
      spcBetAmount=0;
    }

    localStorage.setItem("saldo",saldo);
    document.getElementById("userSaldo").textContent=formatRupiah(saldo);
  }
</script>


<!-- GAME BACCARAT -->
<div id="gameBaccarat" style="display:none;text-align:center;padding:30px;">
  <h2 style="color:#ffcc00;margin-bottom:15px;">üé¥ Baccarat - Tebak Warna</h2>
  
  <div class="saldoBox">
    üë§ <span id="bacUser"></span> | üí∞ Saldo: Rp <span id="bacSaldo">0</span>
  </div>

  <div class="betBox">
    <input type="text" id="bacBet" placeholder="Masukkan bet (min 10.000)" 
           oninput="formatBet(this)">
    <select id="bacChoice">
      <option value="player">üü¢ Player (Hijau)</option>
      <option value="banker">üîµ Banker (Biru)</option>
    </select>
    <button onclick="startBaccarat()">Pasang Bet</button>
  </div>

  <!-- Animasi Kartu -->
  <div id="bacAnim" class="cardAnim">
    <div class="card">üÇ†</div>
    <div class="card">üÇ†</div>
  </div>

  <h3 id="bacResult"></h3>
  <button class="backBtn" onclick="closeBaccarat()">‚¨ÖÔ∏è Kembali</button>

  <div style="margin-top:30px;">
    <h3>History</h3>
    <div id="bacHistory" class="historyBox"></div>
  </div>
</div>

<style>
  .saldoBox{margin:15px 0;font-weight:bold;}
  .betBox{margin:20px;display:flex;justify-content:center;gap:10px;flex-wrap:wrap;}
  .betBox input,.betBox select{
    padding:10px;border:none;border-radius:6px;
    outline:none;min-width:150px;
  }
  .betBox button{
    background:#e10600;color:#fff;border:none;
    padding:10px 16px;border-radius:6px;
    cursor:pointer;transition:.3s;font-weight:bold;
  }
  .betBox button:hover{background:#ff3333;}
  .cardAnim{margin:30px;display:flex;justify-content:center;gap:20px;font-size:70px;}
  .card{animation:flip 0.6s ease;}
  @keyframes flip{
    from{transform:rotateY(90deg);opacity:0;}
    to{transform:rotateY(0);opacity:1;}
  }
  .backBtn{margin-top:20px;padding:10px 20px;background:#444;border:none;
    color:#fff;border-radius:6px;cursor:pointer;transition:.3s;}
  .backBtn:hover{background:#666;}
  .historyBox{max-height:150px;overflow-y:auto;font-size:14px;text-align:left;background:#111;padding:10px;border-radius:6px;}
</style>

<script>
  function openBaccarat(){
    document.getElementById("berandaPage").style.display="none";
    document.getElementById("gameBaccarat").style.display="block";
    document.getElementById("bacUser").textContent = localStorage.getItem("user");
    document.getElementById("bacSaldo").textContent = formatRupiah(localStorage.getItem("saldo")||0);
  }

  function closeBaccarat(){
    document.getElementById("gameBaccarat").style.display="none";
    document.getElementById("berandaPage").style.display="block";
    document.getElementById("bacResult").textContent="";
    document.getElementById("bacAnim").innerHTML=`<div class="card">üÇ†</div><div class="card">üÇ†</div>`;
  }

  function formatBet(input){
    let v = input.value.replace(/\D/g,'');
    if(v) input.value = parseInt(v).toLocaleString("id-ID");
  }

  function startBaccarat(){
    let rawBet = document.getElementById("bacBet").value.replace(/\./g,"");
    let bet = parseInt(rawBet);
    let choice = document.getElementById("bacChoice").value;
    let saldo = parseInt(localStorage.getItem("saldo")||0);

    if(isNaN(bet) || bet < 10000){showToast("‚ö†Ô∏è Minimal bet 10.000!");return;}
    if(bet > saldo){showToast("‚ùå Saldo tidak cukup!");return;}

    saldo -= bet;
    localStorage.setItem("saldo",saldo);
    document.getElementById("bacSaldo").textContent = formatRupiah(saldo);
    document.getElementById("userSaldo").textContent = formatRupiah(saldo);

    let hasil = Math.random()<0.5?"player":"banker";
    let animDiv = document.getElementById("bacAnim");
    animDiv.innerHTML = `<div class="card">üÇ†</div><div class="card">üÇ†</div>`;

    setTimeout(()=>{
      animDiv.innerHTML = hasil==="player" 
        ? `<div class="card">üü¢</div><div class="card">üÇ°</div>`
        : `<div class="card">üîµ</div><div class="card">üÇ±</div>`;
    },1000);

    setTimeout(()=>{
      let menang=(hasil===choice);
      if(menang){
        let payout=bet*2;
        saldo+=payout;
        localStorage.setItem("saldo",saldo);
        document.getElementById("bacSaldo").textContent=formatRupiah(saldo);
        document.getElementById("userSaldo").textContent=formatRupiah(saldo);
        document.getElementById("bacResult").innerHTML=`<span style="color:#0f0;">‚úÖ MENANG Rp ${formatRupiah(payout)}</span>`;
      } else {
        document.getElementById("bacResult").innerHTML=`<span style="color:#f00;">‚ùå KALAH</span>`;
      }
      let color=hasil==="player"?"üü¢ Player":"üîµ Banker";
      document.getElementById("bacHistory").innerHTML=`[${new Date().toLocaleTimeString()}] Hasil: ${color}<br>`+document.getElementById("bacHistory").innerHTML;
    },2000);
  }
</script>


<script>
  // buka game sesuai pilihan
  function openGame(game){
    document.getElementById("berandaPage").style.display="none";
    document.querySelectorAll(".gamePage").forEach(p=>p.style.display="none");

    if(game==="slot") document.getElementById("gameSlot").style.display="block";
    if(game==="spaceman") document.getElementById("gameSpaceman").style.display="block";
    if(game==="baccarat") document.getElementById("gameBaccarat").style.display="block";
  }

  // balik ke beranda
  function backToBeranda(){
    document.querySelectorAll(".gamePage").forEach(p=>p.style.display="none");
    document.getElementById("berandaPage").style.display="block";
  }
</script>


<!-- Game Slot Persia Mahjong -->
<div id="slotPersia" class="gamePage" style="display:none; text-align:center; padding:30px;">
  <h2>üêâ Slot Persia Mahjong</h2>

  <!-- Gulungan -->
  <div id="reelsPersia" class="reels"></div>

  <!-- Bet & Controls -->
  <div style="margin:15px 0;">
    <input type="text" id="betPersia" placeholder="Masukkan Bet" 
      oninput="formatBetInput(this)" 
      style="padding:8px;border-radius:6px;border:none;width:140px;text-align:center;">
    
    <button onclick="spinPersia()">üé∞ Spin</button>
    <button onclick="toggleTurbo()">‚ö° Turbo: <span id="turboTxt">OFF</span></button>
    <button onclick="toggleAuto()">üîÅ Auto: <span id="autoTxt">OFF</span></button>
  </div>

  <!-- Hasil -->
  <p id="resultPersia" style="margin-top:10px;font-weight:bold;"></p>
  <button onclick="openGame('slot')" style="margin-top:15px;padding:8px 16px;border:none;background:#555;color:#fff;border-radius:6px;cursor:pointer;">‚¨ÖÔ∏è Kembali</button>
</div>

<style>
  /* Grid Slot */
  .reels {
    display:grid;
    grid-template-columns:repeat(5,70px);
    grid-template-rows:repeat(3,70px);
    gap:6px;
    justify-content:center;
    margin:20px auto;
  }
  .reels div {
    width:70px;height:70px;
    background:#222;
    display:flex;align-items:center;justify-content:center;
    font-size:26px;
    border-radius:8px;
    color:#fff;
    box-shadow:0 0 6px rgba(0,0,0,.6) inset;
  }
  .spinAnim {
    animation:spinAnim .3s linear infinite;
  }
  @keyframes spinAnim {
    0%{transform:translateY(-10px) rotate(5deg);}
    50%{transform:translateY(10px) rotate(-5deg);}
    100%{transform:translateY(-10px) rotate(5deg);}
  }
</style>

<script>
  const symbolsPersia = ["üêâ","üíé","üÄÑ","üçÄ","‚≠ê","üîî"];
  let turbo=false, auto=false, autoSpins=0;

  // format input bet (auto titik)
  function formatBetInput(inp){
    let val=inp.value.replace(/\D/g,"");
    if(val==="") {inp.value=""; return;}
    inp.value=val.replace(/\B(?=(\d{3})+(?!\d))/g,".");
  }

  function parseBet(){
    return parseInt(document.getElementById("betPersia").value.replace(/\./g,""))||0;
  }

  function toggleTurbo(){
    turbo=!turbo;
    document.getElementById("turboTxt").textContent=turbo?"ON":"OFF";
  }

  function toggleAuto(){
    auto=!auto;
    if(auto){
      autoSpins=10; // auto 10x spin
      spinPersia();
    }
    document.getElementById("autoTxt").textContent=auto?"ON":"OFF";
  }

  function spinPersia(){
    let bet=parseBet();
    let saldo=parseInt(localStorage.getItem("saldo")||0);

    if(isNaN(bet)||bet<=0){showToast("‚ö†Ô∏è Masukkan bet dulu!");return;}
    if(bet>saldo){showToast("‚ùå Saldo tidak cukup!");auto=false;document.getElementById("autoTxt").textContent="OFF";return;}

    // Kurangi saldo saat spin
    saldo-=bet;
    localStorage.setItem("saldo",saldo);
    document.getElementById("userSaldo").textContent=formatRupiah(saldo);

    // animasi spin
    let grid="";
    for(let i=0;i<15;i++) grid+=`<div class="spinAnim">üé≤</div>`;
    document.getElementById("reelsPersia").innerHTML=grid;

    // delay berhenti
    let delay=turbo?500:1500;

    setTimeout(()=>{
      let grid="";
      for(let i=0;i<15;i++){
        let sym=symbolsPersia[Math.floor(Math.random()*symbolsPersia.length)];
        grid+=`<div>${sym}</div>`;
      }
      document.getElementById("reelsPersia").innerHTML=grid;

      // cek menang random
      let chance=Math.random();
      if(chance>0.7){
        let win=bet*2;
        saldo+=win;
        localStorage.setItem("saldo",saldo);
        document.getElementById("userSaldo").textContent=formatRupiah(saldo);
        document.getElementById("resultPersia").style.color="#28a745";
        document.getElementById("resultPersia").textContent="üéâ Menang Rp "+formatRupiah(win);
      }else{
        document.getElementById("resultPersia").style.color="#e10600";
        document.getElementById("resultPersia").textContent="üò¢ Kalah, coba lagi!";
      }

      // auto spin lanjut
      if(auto && autoSpins>1){
        autoSpins--;
        setTimeout(spinPersia, turbo?600:1800);
      }else{
        auto=false;
        document.getElementById("autoTxt").textContent="OFF";
      }
    },delay);
  }
</script>


<script>
  // Buka Slot Persia
  function openSlotPersia(){
    document.getElementById("gameSlot").style.display="none";
    document.getElementById("slotPersia").style.display="block";
  }

  // Buka Slot Bush (masih kosong, nanti kita isi)
  function openSlotBush(){
    document.getElementById("gameSlot").style.display="none";
    // sementara kasih notif dulu
    showToast("üå≤ Slot Bush coming soon!");
  }
</script>


<!-- Game Slot Bush -->
<div id="slotBush" class="gamePage" style="display:none; text-align:center; padding:30px;">
  <h2>üå≤ Slot Bush</h2>

  <!-- Gulungan -->
  <div id="reelsBush" class="reels-bush"></div>

  <!-- Bet & Controls -->
  <div style="margin:15px 0;">
    <input type="text" id="betBush" placeholder="Masukkan Bet" 
      oninput="formatBetInput(this)" 
      style="padding:8px;border-radius:6px;border:none;width:140px;text-align:center;">
    
    <button onclick="spinBush()">üé∞ Spin</button>
    <button onclick="toggleTurboBush()">‚ö° Turbo: <span id="turboBushTxt">OFF</span></button>
  </div>

  <!-- Hasil -->
  <p id="resultBush" style="margin-top:10px;font-weight:bold;"></p>
  <button onclick="openGame('slot')" style="margin-top:15px;padding:8px 16px;border:none;background:#555;color:#fff;border-radius:6px;cursor:pointer;">‚¨ÖÔ∏è Kembali</button>
</div>

<style>
  /* Slot Bush Grid */
  .reels-bush {
    display:grid;
    grid-template-columns:repeat(3,90px);
    grid-template-rows:repeat(3,90px);
    gap:8px;
    justify-content:center;
    margin:20px auto;
  }
  .reels-bush div {
    width:90px;height:90px;
    background:#222;
    display:flex;align-items:center;justify-content:center;
    font-size:30px;
    border-radius:10px;
    color:#fff;
    box-shadow:0 0 6px rgba(0,0,0,.6) inset;
  }
  .bushSpin {
    animation:bushSpin .25s linear infinite;
  }
  @keyframes bushSpin {
    0%{transform:translateY(-10px) rotate(5deg);}
    50%{transform:translateY(10px) rotate(-5deg);}
    100%{transform:translateY(-10px) rotate(5deg);}
  }
</style>

<script>
  const symbolsBush = ["üçí","üçã","üçá","‚≠ê","üîî","7Ô∏è‚É£"];
  let turboBush=false;

  function toggleTurboBush(){
    turboBush=!turboBush;
    document.getElementById("turboBushTxt").textContent=turboBush?"ON":"OFF";
  }

  function parseBetBush(){
    return parseInt(document.getElementById("betBush").value.replace(/\./g,""))||0;
  }

  function spinBush(){
    let bet=parseBetBush();
    let saldo=parseInt(localStorage.getItem("saldo")||0);

    if(isNaN(bet)||bet<=0){showToast("‚ö†Ô∏è Masukkan bet dulu!");return;}
    if(bet>saldo){showToast("‚ùå Saldo tidak cukup!");return;}

    // kurangi saldo
    saldo-=bet;
    localStorage.setItem("saldo",saldo);
    document.getElementById("userSaldo").textContent=formatRupiah(saldo);

    // animasi reel
    let grid="";
    for(let i=0;i<9;i++) grid+=`<div class="bushSpin">üé≤</div>`;
    document.getElementById("reelsBush").innerHTML=grid;

    let delay=turboBush?500:1500;

    setTimeout(()=>{
      let grid="";
      let hasil=[];
      for(let i=0;i<9;i++){
        let sym=symbolsBush[Math.floor(Math.random()*symbolsBush.length)];
        grid+=`<div>${sym}</div>`;
        hasil.push(sym);
      }
      document.getElementById("reelsBush").innerHTML=grid;

      // cek menang kalau baris tengah sama semua
      let mid=[hasil[3],hasil[4],hasil[5]];
      if(mid.every(v=>v===mid[0])){
        let win=bet*5;
        saldo+=win;
        localStorage.setItem("saldo",saldo);
        document.getElementById("userSaldo").textContent=formatRupiah(saldo);
        document.getElementById("resultBush").style.color="#28a745";
        document.getElementById("resultBush").textContent="üéâ JACKPOT! Menang Rp "+formatRupiah(win);
      }else{
        document.getElementById("resultBush").style.color="#e10600";
        document.getElementById("resultBush").textContent="üò¢ Kalah, coba lagi!";
      }
    },delay);
  }
</script>


<script>
  // Buka Slot Persia
  function openSlotPersia(){
    document.getElementById("gameSlot").style.display="none";
    document.getElementById("slotPersia").style.display="block";
  }

  // Buka Slot Bush
  function openSlotBush(){
    document.getElementById("gameSlot").style.display="none";
    document.getElementById("slotBush").style.display="block"; // <-- ini buka game bush
  }
</script>


<script>
  let spcInterval, spcMultiplier = 1.00;
  let spcFlying = false;
  let spcBetAmount = 0;
  let spcCashed50 = false;
  let spcCashedAll = false;

  // Format angka ribuan
  function formatRupiah(angka) {
    return angka.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");
  }

  // Open Spaceman
  function openSpaceman(){
    document.getElementById("berandaPage").style.display="none";
    document.getElementById("gameSpaceman").style.display="block";
  }

  // Close Spaceman
  function closeSpaceman(){
    document.getElementById("gameSpaceman").style.display="none";
    document.getElementById("berandaPage").style.display="block";
    resetSpaceman();
  }

  // Reset Game
  function resetSpaceman(){
    clearInterval(spcInterval);
    spcMultiplier = 1.00;
    spcFlying = false;
    spcBetAmount = 0;
    spcCashed50 = false;
    spcCashedAll = false;
    document.getElementById("multiplierTxt").textContent = "x1.00";
    document.getElementById("resultSpc").textContent = "";
    document.getElementById("spacemanChar").style.bottom = "10px";
  }

  // Start Game
  function startSpaceman(){
    if(spcFlying){showToast("‚ö†Ô∏è Tunggu ronde selesai!");return;}

    let bet = parseInt(document.getElementById("spcBet").value);
    if(isNaN(bet) || bet <= 0){
      showToast("‚ö†Ô∏è Masukkan bet valid!");return;
    }

    let saldo = parseInt(localStorage.getItem("saldo")||0);
    if(bet > saldo){showToast("‚ùå Saldo tidak cukup!");return;}

    // Potong saldo langsung saat pasang bet
    saldo -= bet;
    localStorage.setItem("saldo", saldo);
    document.getElementById("userSaldo").textContent = formatRupiah(saldo);

    spcBetAmount = bet;
    spcFlying = true;
    spcMultiplier = 1.00;
    spcCashed50 = false;
    spcCashedAll = false;

    document.getElementById("resultSpc").textContent = "üöÄ Terbang...";
    let crashPoint = (Math.random() * 9 + 1).toFixed(2); // Crash random antara 1.00 - 10.00

    spcInterval = setInterval(()=>{
      spcMultiplier += 0.05;
      document.getElementById("multiplierTxt").textContent = "x" + spcMultiplier.toFixed(2);
      document.getElementById("spacemanChar").style.bottom = (spcMultiplier*10) + "px";

      if(spcMultiplier >= crashPoint){
        clearInterval(spcInterval);
        spcFlying = false;
        document.getElementById("resultSpc").textContent = "üí• Crash di x" + spcMultiplier.toFixed(2);
        document.getElementById("historySpc").innerHTML += `<span style="color:#ff3333;">x${spcMultiplier.toFixed(2)}</span> `;
      }
    },200);
  }

  // Cashout
  function cashout(type){
    if(!spcFlying){showToast("‚ö†Ô∏è Belum ada ronde berjalan!");return;}
    if(spcBetAmount <= 0){showToast("‚ö†Ô∏è Belum pasang bet!");return;}

    let saldo = parseInt(localStorage.getItem("saldo")||0);
    let payout = 0;

    if(type === 0.5 && !spcCashed50){
      let half = spcBetAmount/2;
      payout = Math.floor(half * spcMultiplier);
      saldo += payout;
      spcCashed50 = true;
      document.getElementById("resultSpc").textContent = "‚úÖ Cashout 50%: Rp "+formatRupiah(payout);
    } 
    else if(type === 1 && !spcCashedAll){
      let remaining = spcBetAmount;
      payout = Math.floor(remaining * spcMultiplier);
      saldo += payout;
      spcCashedAll = true;
      document.getElementById("resultSpc").textContent = "‚úÖ Cashout All: Rp "+formatRupiah(payout);
      // Setelah cashout all, anggap bet selesai
      spcBetAmount = 0;
    }

    localStorage.setItem("saldo", saldo);
    document.getElementById("userSaldo").textContent = formatRupiah(saldo);
  }
</script>


<script>
  function closeSpaceman(){
    document.getElementById("gameSpaceman").style.display="none"; // sembunyiin spaceman
    document.getElementById("berandaPage").style.display="block"; // munculin halaman pilih game
  }
</script>